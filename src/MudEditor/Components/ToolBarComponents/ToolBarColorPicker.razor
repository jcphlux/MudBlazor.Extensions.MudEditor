@inherits ToolBarBase

@namespace MudBlazor.Extensions.ToolBarComponents
<div class="mud-editor-picker d-flex">
    <MudColorPicker @ref="_picker" TextChanged="OnValueChanged" Text="@Value?.ToString()" />
    <MudIconButton Color="@Editor.ToolBarColor" Icon="@Option.Icon" OnClick="@Open" Size="Size.Small" Style="@_style" Title="@Option.Label" Variant="@Editor.ToolBarVariant"></MudIconButton>
</div>

@code {
    private MudColorPicker? _picker;
    private string? _style;

    protected override void OnValueChanged() => _style = Value != null ? null : $"color:{Value}";

    private void Open() {
        _picker!.Open();
    }

}