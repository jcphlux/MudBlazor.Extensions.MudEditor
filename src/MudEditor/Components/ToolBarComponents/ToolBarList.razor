@using MudBlazor.Utilities
@inherits ToolBarBase
@namespace MudBlazor.Extensions.ToolBarComponents
<div class="flex-none">
    <MudSelect AdornmentColor="@(Active? Editor.ToolBarActiveColor: Editor.ToolBarColor)" Class="@Classname" Dense="true" Margin="Margin.Dense" PopoverClass="@Classname" T="object" Value="@Value" ValueChanged="ValueChanged" Variant="@Editor.ToolBarVariant">
        @foreach (var action in Action.Actions) {
            <MudSelectItem Value="@action.AttribValue"></MudSelectItem>
        }
    </MudSelect>
</div>

@code {
    private string Classname => new CssBuilder()
        .AddClass("mud-editor-toolbar-list")
        .AddClass("pa-0")
        .AddClass("ma-0")
        .Build();


    private async void ValueChanged(object value) => await Editor.SetAttrib(Action.Command, Action.Attrib, value.Equals(Value)? null: value);

}