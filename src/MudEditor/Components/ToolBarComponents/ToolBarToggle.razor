@inherits ToolBarBase
@namespace MudBlazor.Extensions.ToolBarComponents

<MudButtonGroup Variant="Variant.Outlined">
    @foreach (var option in Option.Options!) {
        <CascadingValue Value="@Editor">
            <CascadingValue Value="@option">
                <DynamicComponent Type="@option.Type.ComponentType"/>
            </CascadingValue>
        </CascadingValue>
    }

    @*<MudIconButton Class="pa-0" Color="@(Active ? _activeColor : _color)" Icon="@_selectedOptions.Icon" OnClick="@(ToggleValue)" Size="Size.Small" Title="@_selectedOptions.Label"></MudIconButton>*@
</MudButtonGroup>

@code {
    //private ToolBarOption _selectedOptions = null!;

    //protected override void OnParametersSet() {
    //    _selectedOptions = Option.Options!.First();
    //}

    //private void ToggleValue() {
    //    _selectedOptions = Option.Options!.SkipWhile(option => !option.Equals(_selectedOptions)).Skip(1).DefaultIfEmpty(Option.Options!.First()).FirstOrDefault()!;
    //}

}